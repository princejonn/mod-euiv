designate_fief = {
	category = influence
	require_acceptance = no
	is_visible = {
		government = monarchy
		FROM = {
			is_subject_of = ROOT
			OR = {
				is_subject_of_type = vassal
				is_subject_of_type = incorporated_vassal
				is_subject_of_type = consolidated_vassal
			}
		}
	}
	is_allowed = {
		is_at_war = no
		custom_trigger_tooltip = {
			tooltip = NUM_FIEFS_ALLOWED_TOOLTIP
			NOT = {
				OR = {
					num_subjects_of_type_with_liberty_desire = {
						type = fief
						liberty_desire = 0
						value = 3
					}
					num_subjects_of_type_with_liberty_desire = {
						type = incorporated_fief
						liberty_desire = 0
						value = 3
					}
					num_subjects_of_type_with_liberty_desire = {
						type = consolidated_fief
						liberty_desire = 0
						value = 3
					}
				}
			}
		}
		FROM = {
			NOT = {
				government_rank = 2
			}
		}
		FROM = {
			NOT = {
				num_of_cities = 2
			}
		}
	}
	on_accept = {
		if = {
			limit = {
				FROM = {
					is_subject_of_type = vassal
				}
			}
			create_subject = {
				subject_type = fief
				subject = FROM
				keep_liberty_desire = yes
			}
		}
		else_if = {
			limit = {
				FROM = {
					is_subject_of_type = incorporated_vassal
				}
			}
			create_subject = {
				subject_type = incorporated_fief
				subject = FROM
				keep_liberty_desire = yes
			}
		}
		else_if = {
			limit = {
				FROM = {
					is_subject_of_type = consolidated_vassal
				}
			}
			create_subject = {
				subject_type = consolidated_fief
				subject = FROM
				keep_liberty_desire = yes
			}
		}
	}
	on_decline = {
	}
	ai_will_do = {
		always = no
	}
}

revoke_fief = {
	category = influence
	require_acceptance = no
	is_visible = {
		FROM = {
			is_subject_of = ROOT
			OR = {
				is_subject_of_type = fief
				is_subject_of_type = incorporated_fief
				is_subject_of_type = consolidated_fief
			}
		}
	}
	is_allowed = {
		is_at_war = no
		FROM = {
			NOT = {
				liberty_desire = 50
			}
		}
	}
	on_accept = {
		if = {
			limit = {
				FROM = {
					is_subject_of_type = fief
				}
			}
			create_subject = {
				subject_type = vassal
				subject = FROM
				keep_liberty_desire = yes
			}
		}
		else_if = {
			limit = {
				FROM = {
					is_subject_of_type = incorporated_fief
				}
			}
			create_subject = {
				subject_type = incorporated_vassal
				subject = FROM
				keep_liberty_desire = yes
			}
		}
		else_if = {
			limit = {
				FROM = {
					is_subject_of_type = consolidated_fief
				}
			}
			create_subject = {
				subject_type = consolidated_vassal
				subject = FROM
				keep_liberty_desire = yes
			}
		}
		FROM = {
			add_liberty_desire = 25
			add_opinion = {
				who = ROOT
				modifier = broke_fief
			}
		}
	}
	on_decline = {
	}
	ai_will_do = {
		always = no
	}
}
